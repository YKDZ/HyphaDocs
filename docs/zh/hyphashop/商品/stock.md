# 库存

商品可以拥有库存限制，在一个商品的库存消耗完之后，玩家将无法从商店购买该商品。

库存是商品本身的属性，与商店不相关。这意味着在两个商店上架的同一个商品会共享同一套库存设置。

库存分为**玩家库存**和**全局库存**，全局库存由所有玩家共享，玩家库存则对每个玩家独立。

可以用以下语法在商品配置中定义库存：

```yaml
WARM_WELCOME:
  stock:
    player:
      size: 1
      replenish: false
      overflow: false
      inherit: true
    global:
      size: 100
      replenish: false
      overflow: false
      inherit: true
```

四条配置项的含义如下：

- **size**：库存的尺寸，单位是"份数"而非"物品数量"
- **replenish**：库存是否能被玩家的出售行为补充，如现有库存 32，玩家向商店出售 16 份商品，则库存变为 48
- **overflow**：若库存可以被补充，则补充的库存是否可以超过初始库存，如现有库存 32，初始库存 36，玩家向商店出售 16 份商品，则库存变为 36 而非 48
- **inherit**：库存是否会被继承，若不继承则会随着商品重新上架（list）而被重置
